#!/usr/bin/env perl
use strict;
use warnings;
use FindBin;
use lib "$FindBin::Bin/../lib";
use Data::Dumper;
use OptArgs2;

cmd 'App::paint' => (
    comment => 'this isdf lkjdsf',
    optargs => sub {
        arg item => (
            isa      => 'Str',
            required => 1,
            comment  => 'the item to paint',
        );

        arg colour => (
            isa     => 'Str',
            default => 'blue',
            comment => 'the colour to use',
        );

        arg message => (
            isa     => 'Str',
            comment => 'the message to paint on the item',
            default => 'a boring message',
            greedy  => 1,
        );

        opt help => (
            isa     => 'Bool',
            comment => 'print a help message and exit',
            alias   => 'h',
            default => 0,
            ishelp  => 1,
        );

        opt quiet => (
            isa     => 'Bool',
            alias   => 'q',
            default => 0,
            comment => 'output nothing while working',
        );

        opt hidden => (
            isa     => 'Bool',
            alias   => 'q',
            comment => 'you will never see this comment',
            hidden  => 1,
        );

        opt bool => (
            isa     => 'Bool',
            comment => 'example of a no-default Boolean option',
        );

        opt bool0 => (
            isa     => 'Bool',
            comment => 'default-false Boolean option',
            default => 0,
        );

        opt bool1 => (
            isa     => 'Bool',
            comment => 'default-true Boolean option',
            default => 1,
        );

        opt iopt => (
            isa     => 'Int',
            comment => 'example of a default-true Integer option',
            alias   => 'i',
            default => 8,
        );

        opt sopt => (
            isa     => 'ArrayRef',
            comment => 'example of an arrayref option',
            alias   => 's',
            default => 'some text',
        );

        opt xopt => (
            isa      => 'ArrayRef',
            isa_name => 'XY',
            comment  => 'example isa_name',
            alias    => 'x',
            default  => 'some text',
        );

    },
);

print Dumper(optargs);

